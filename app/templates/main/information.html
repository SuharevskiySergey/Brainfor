{% extends 'base.html' %}
{% block app_content %}

<h1>Information</h1>
<a href="{{ url_for('main.graphic', id=info.id) }}">Timetable</a>
{% if not(info.id_user) %}
    <a href="{{ url_for('main.secsesfuly', id=info.id) }}">Lessons</a>
{% endif %}

<h2> General info</h2>
    <a href="{{ url_for('main.change_info', user_id=info.id) }}">Edit info</a>


    <p>Full name: {{ info.name }}</p>
    <p>Country: {{ info.country }}</p>
    <p>City: {{ info.city }}</p>
    <p>Phone: {{ info.phone_number }}</p>
    <p>Birthday: {{ info.date_of_birth }}</p>
    <p>Occupation: {{ info.occupation }}</p>

    {% if role > 1%}

    <h2>info for teacher</h2>
    {% if not(info.id_user) %}
        <p> Speed - {{ info.speed }}</p>
    {% endif %}
    {% if info.id_user %}
    <p> Rate {{ info.value }}</p>
    <p>Lessons</p>
    <p><a href="{{ url_for('main.get_paid',id=info.id) }}">Salary</a><p>
    {% endif %}
{% endif %}


{% if role >2 %}
    {% if not(info.id_user) %}
        <h2>Only for admin+</h2>
        {% if not(info.id_user) %}
            <p> Source - {{ info.source }}</p>
        {% endif %}
        <p>Price- {{ info.value }}</p>
        <p><a href="{{ url_for('main.get_paid',id=info.id) }}">Paid</a> -  {{ summe }} </p>
        <p>Balance {{ info.pay_already }}</p>
        <p>Passed - {{ info.pass_lesson }}</p>
        <p>Left {{ info.pay_already // info.value }}</p>
    {% endif %}
{% endif %}
    <div style="color: black; background-color: gray; width: 200px; height: 100px;">
        {% for gra in graph %}
            <p> {{gra.alt_key[gra.weekday]}} {{gra.hour}}:{{gra.minute}} <a href="{{ url_for('main.dell_graph',id = gra.id) }}">delete</a> </p>
        {% endfor %}
        <a href="{{url_for('main.add_graficks', id=info.id)}}">add_graph </a>
    </div>

{% if role > 1 and info.role() == 1 %}
    <div style="color: black; background-color: green; width: 200px; height: 100px;">Teacher:


        {% for teacher in teachers %}
            <a href="{{ url_for('main.information', id = teacher.id) }}">{{ teacher.name }}</a><a href="{{ url_for('main.del_teacher', stud=info.id , teach=teacher.id_user) }}"> delete</a>
        {% endfor %}
        <a href="{{ url_for('main.chouse_teacher',id=info.id) }}">add new</a>

        </div>
    <p>Lessons executed</p>
    <table>
        {% for lesson in lessons %}
            <tr>
                <td>{{ lesson.teacher_name() }}</td>
                <td>{{ lesson.datetime }}</td>
            </tr>
        {% endfor %}
    </table>

{% endif %}

{% if role > 1 and info.role()==2 %}
    <p>Executed lesson</p>

    {% for week in lessons %}
    <table>
        <tr>
            <td>Monday</td>
            <td>Tuesday</td>
            <td>Wednesday</td>
            <td>Thursday</td>
            <td>Friday</td>
            <td>Saturday</td>
            <td>Sunday</td>
        </tr>
        <tr>
            {% for i in range(6) %}
            <td>
                    <ul>
                    {% for less in week[i]%}
                        <li>
                        {{ less.student_name() }}
                        {{ less.daytime_output() }}
                        </li>
                    {% endfor %}
                    </ul>
            </td>
            {% endfor %}
        </tr>
    </table>
    {% endfor %}

{% endif %}

{% endblock %}